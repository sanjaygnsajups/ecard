<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>E-Card | The Modern Living</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg bg-light shadow-sm">
  <div class="container">
    <a class="navbar-brand" href="#">
      <img src="assets/logo.jpg" alt="The Modern Living" style="height:50px;"> The Modern Living
    </a>
  </div>
</nav>

<!-- Banner Section -->
<section class="banner text-center" style="background: url('assets/banner-hydrogen.jpg') center/cover no-repeat; padding: 100px 0;">
  <h1 class="text-white">Hydrogen Water Generators</h1>
</section>

<!-- Profile Card -->
<div class="profile-card text-center p-3 mb-5 fade-in" id="profile" style="max-width: 350px; margin: 0 auto; border-radius:12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); background:#fff;">
  <img id="profile-photo" src="images/default.jpg" alt="Profile Photo" class="rounded-circle mb-3" style="width:120px; height:120px; object-fit:cover;" />
  <h3 id="profile-name">Loading‚Ä¶</h3>
  <p id="profile-designation"></p>
  <p id="profile-company"></p>
  <p>Machine: <span id="profile-machine"></span></p>
  <p>Location: <span id="profile-location"></span></p>
  <div class="mt-3">
    <a id="profile-phone" href="#" class="btn btn-primary btn-sm m-1">Call</a>
    <a id="profile-email" href="#" class="btn btn-secondary btn-sm m-1">Email</a>
  </div>
</div>

<!-- Products Section -->
<section class="products my-5 fade-in" id="products-section">
  <div class="container">
    <h2 class="text-center mb-4">Our Products</h2>
    <div class="row justify-content-center" id="products-container">
      <!-- Products will load dynamically -->
    </div>
  </div>
</section>

<!-- Certificates Section -->
<section class="certificates my-5 fade-in">
  <div class="container">
    <h2 class="text-center mb-4">Certifications</h2>
    <div class="row justify-content-center" id="certificates-container">
      <!-- Certificates loaded dynamically -->
    </div>
  </div>
</section>

<!-- Worldwide Presence -->
<section class="presence my-5 fade-in text-center">
  <img src="assets/ion-exchange-logo.png" alt="Ion Exchange Logo" style="height:50px; margin-bottom:10px;">
  <h3>Worldwide Presence of Ion Exchange India Limited</h3>
  <div class="marquee text-primary" style="overflow:hidden; white-space:nowrap;">
    Indonesia &nbsp;&nbsp; Malaysia &nbsp;&nbsp; Nepal &nbsp;&nbsp; Singapore &nbsp;&nbsp; Thailand &nbsp;&nbsp; Srilanka &nbsp;&nbsp; East Africa &nbsp;&nbsp; South Africa &nbsp;&nbsp; Portugal &nbsp;&nbsp; India &nbsp;&nbsp; Saudi Arabia &nbsp;&nbsp; Oman &nbsp;&nbsp; UAE &nbsp;&nbsp; North America
  </div>
</section>

<!-- Footer -->
<footer class="text-center py-3 bg-light">
  &copy; 2025 The Modern Living | All Rights Reserved
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
async function loadProfile() {
  const params = new URLSearchParams(window.location.search);
  const id = params.get("id") || "sanjay";
  const response = await fetch("team.json");
  const data = await response.json();
  const member = data[id];
  if(member){
    document.getElementById("profile-photo").src = member.photo;
    document.getElementById("profile-name").textContent = member.name;
    document.getElementById("profile-designation").textContent = member.designation;
    document.getElementById("profile-company").textContent = member.company;
    document.getElementById("profile-machine").textContent = member.machine;
    document.getElementById("profile-location").textContent = member.location;
    document.getElementById("profile-phone").href = "tel:" + member.phone;
    document.getElementById("profile-phone").textContent = "üìû " + member.phone;
    document.getElementById("profile-email").href = "mailto:" + member.email;
    document.getElementById("profile-email").textContent = "‚úâÔ∏è " + member.email;
    return member.whatsapp;
  }
  return "";
}

async function loadProducts(whatsappNumber){
  const response = await fetch("products.json");
  const products = await response.json();
  const container = document.getElementById("products-container");
  container.innerHTML = "";
  for(const key in products){
    const p = products[key];
    const card = document.createElement("div");
    card.className = "col-md-4 mb-4";
    card.innerHTML = `
      <div class="card h-100 shadow-sm">
        <img src="${p.image}" class="card-img-top" alt="${p.name}">
        <div class="card-body text-center">
          <h5 class="card-title">${p.name}</h5>
          <p class="card-text">${p.description}</p>
          <a href="${p.brochure}" download class="btn btn-primary btn-sm m-1">Download Brochure</a>
          <a href="https://wa.me/${whatsappNumber}?text=I'm interested in ${encodeURIComponent(p.name)}" class="btn btn-success btn-sm m-1">Enquire Now</a>
        </div>
      </div>
    `;
    container.appendChild(card);
  }
}

async function loadCertificates(){
  const response = await fetch("certificates.json");
  const certs = await response.json();
  const container = document.getElementById("certificates-container");
  container.innerHTML = "";
  for(const key in certs){
    const c = certs[key];
    const div = document.createElement("div");
    div.className = "col-md-4 mb-4 text-center";
    div.innerHTML = `<img src="${c.image}" alt="${c.name}" class="img-fluid" style="max-height:150px;">`;
    container.appendChild(div);
  }
}

(async function init(){
  const whatsappNumber = await loadProfile();
  await loadProducts(whatsappNumber);
  await loadCertificates();
})();
</script>
</body>
</html>
